{"remainingRequest":"/home/devcass/Courses/udemy-full-stack-vue-gql-cg/code/16 Deployment with Now/082 Deploying-Backend-Frontend-with-Now/client/node_modules/babel-loader/lib/index.js!/home/devcass/Courses/udemy-full-stack-vue-gql-cg/code/16 Deployment with Now/082 Deploying-Backend-Frontend-with-Now/client/src/main.js","dependencies":[{"path":"/home/devcass/Courses/udemy-full-stack-vue-gql-cg/code/16 Deployment with Now/082 Deploying-Backend-Frontend-with-Now/client/src/main.js","mtime":1534472112000},{"path":"/home/devcass/Courses/udemy-full-stack-vue-gql-cg/code/16 Deployment with Now/082 Deploying-Backend-Frontend-with-Now/client/node_modules/cache-loader/dist/cjs.js","mtime":1595162080206},{"path":"/home/devcass/Courses/udemy-full-stack-vue-gql-cg/code/16 Deployment with Now/082 Deploying-Backend-Frontend-with-Now/client/node_modules/babel-loader/lib/index.js","mtime":1529635966000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.copy-within\";\nimport \"core-js/modules/es6.array.fill\";\nimport \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.array.find-index\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.array.of\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.array.species\";\nimport \"core-js/modules/es6.date.to-primitive\";\nimport \"core-js/modules/es6.function.has-instance\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.map\";\nimport \"core-js/modules/es6.math.acosh\";\nimport \"core-js/modules/es6.math.asinh\";\nimport \"core-js/modules/es6.math.atanh\";\nimport \"core-js/modules/es6.math.cbrt\";\nimport \"core-js/modules/es6.math.clz32\";\nimport \"core-js/modules/es6.math.cosh\";\nimport \"core-js/modules/es6.math.expm1\";\nimport \"core-js/modules/es6.math.fround\";\nimport \"core-js/modules/es6.math.hypot\";\nimport \"core-js/modules/es6.math.imul\";\nimport \"core-js/modules/es6.math.log1p\";\nimport \"core-js/modules/es6.math.log10\";\nimport \"core-js/modules/es6.math.log2\";\nimport \"core-js/modules/es6.math.sign\";\nimport \"core-js/modules/es6.math.sinh\";\nimport \"core-js/modules/es6.math.tanh\";\nimport \"core-js/modules/es6.math.trunc\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.epsilon\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport \"core-js/modules/es6.number.is-integer\";\nimport \"core-js/modules/es6.number.is-nan\";\nimport \"core-js/modules/es6.number.is-safe-integer\";\nimport \"core-js/modules/es6.number.max-safe-integer\";\nimport \"core-js/modules/es6.number.min-safe-integer\";\nimport \"core-js/modules/es6.number.parse-float\";\nimport \"core-js/modules/es6.number.parse-int\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es7.object.define-getter\";\nimport \"core-js/modules/es7.object.define-setter\";\nimport \"core-js/modules/es7.object.entries\";\nimport \"core-js/modules/es6.object.freeze\";\nimport \"core-js/modules/es6.object.get-own-property-descriptor\";\nimport \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.object.get-own-property-names\";\nimport \"core-js/modules/es6.object.get-prototype-of\";\nimport \"core-js/modules/es7.object.lookup-getter\";\nimport \"core-js/modules/es7.object.lookup-setter\";\nimport \"core-js/modules/es6.object.prevent-extensions\";\nimport \"core-js/modules/es6.object.is\";\nimport \"core-js/modules/es6.object.is-frozen\";\nimport \"core-js/modules/es6.object.is-sealed\";\nimport \"core-js/modules/es6.object.is-extensible\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.object.seal\";\nimport \"core-js/modules/es6.object.set-prototype-of\";\nimport \"core-js/modules/es7.object.values\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\nimport \"core-js/modules/es6.reflect.apply\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport \"core-js/modules/es6.reflect.define-property\";\nimport \"core-js/modules/es6.reflect.delete-property\";\nimport \"core-js/modules/es6.reflect.get\";\nimport \"core-js/modules/es6.reflect.get-own-property-descriptor\";\nimport \"core-js/modules/es6.reflect.get-prototype-of\";\nimport \"core-js/modules/es6.reflect.has\";\nimport \"core-js/modules/es6.reflect.is-extensible\";\nimport \"core-js/modules/es6.reflect.own-keys\";\nimport \"core-js/modules/es6.reflect.prevent-extensions\";\nimport \"core-js/modules/es6.reflect.set\";\nimport \"core-js/modules/es6.reflect.set-prototype-of\";\nimport \"core-js/modules/es6.regexp.constructor\";\nimport \"core-js/modules/es6.regexp.flags\";\nimport \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.regexp.search\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.set\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.string.anchor\";\nimport \"core-js/modules/es6.string.big\";\nimport \"core-js/modules/es6.string.blink\";\nimport \"core-js/modules/es6.string.bold\";\nimport \"core-js/modules/es6.string.code-point-at\";\nimport \"core-js/modules/es6.string.ends-with\";\nimport \"core-js/modules/es6.string.fixed\";\nimport \"core-js/modules/es6.string.fontcolor\";\nimport \"core-js/modules/es6.string.fontsize\";\nimport \"core-js/modules/es6.string.from-code-point\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/es6.string.italics\";\nimport \"core-js/modules/es6.string.link\";\nimport \"core-js/modules/es7.string.pad-start\";\nimport \"core-js/modules/es7.string.pad-end\";\nimport \"core-js/modules/es6.string.raw\";\nimport \"core-js/modules/es6.string.repeat\";\nimport \"core-js/modules/es6.string.small\";\nimport \"core-js/modules/es6.string.starts-with\";\nimport \"core-js/modules/es6.string.strike\";\nimport \"core-js/modules/es6.string.sub\";\nimport \"core-js/modules/es6.string.sup\";\nimport \"core-js/modules/es6.typed.array-buffer\";\nimport \"core-js/modules/es6.typed.int8-array\";\nimport \"core-js/modules/es6.typed.uint8-array\";\nimport \"core-js/modules/es6.typed.uint8-clamped-array\";\nimport \"core-js/modules/es6.typed.int16-array\";\nimport \"core-js/modules/es6.typed.uint16-array\";\nimport \"core-js/modules/es6.typed.int32-array\";\nimport \"core-js/modules/es6.typed.uint32-array\";\nimport \"core-js/modules/es6.typed.float32-array\";\nimport \"core-js/modules/es6.typed.float64-array\";\nimport \"core-js/modules/es6.weak-map\";\nimport \"core-js/modules/es6.weak-set\";\nimport \"core-js/modules/web.timers\";\nimport \"core-js/modules/web.immediate\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"regenerator-runtime/runtime\";\nimport Vue from \"vue\";\nimport \"./plugins/vuetify\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport store from \"./store\";\nimport ApolloClient from \"apollo-boost\";\nimport VueApollo from \"vue-apollo\";\nimport FormAlert from \"./components/Shared/FormAlert\"; // Register Global Component\n\nVue.component(\"form-alert\", FormAlert);\nVue.use(VueApollo); // Setup ApolloClient\n\nexport var defaultClient = new ApolloClient({\n  uri: \"<insert-deployed-backend-url-here>/graphql\",\n  // include auth token with requests made to backend\n  fetchOptions: {\n    credentials: \"include\"\n  },\n  request: function request(operation) {\n    // if no token with key of 'token' in localStorage, add it\n    if (!localStorage.token) {\n      localStorage.setItem(\"token\", \"\");\n    } // operation adds the token to an authorization header, which is sent to backend\n\n\n    operation.setContext({\n      headers: {\n        authorization: localStorage.getItem(\"token\")\n      }\n    });\n  },\n  onError: function onError(_ref) {\n    var graphQLErrors = _ref.graphQLErrors,\n        networkError = _ref.networkError;\n\n    if (networkError) {\n      console.log(\"[networkError]\", networkError);\n    }\n\n    if (graphQLErrors) {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = graphQLErrors[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var err = _step.value;\n          console.dir(err);\n\n          if (err.name === \"AuthenticationError\") {\n            // set auth error in state (to show in snackbar)\n            store.commit(\"setAuthError\", err); // signout user (to clear token)\n\n            store.dispatch(\"signoutUser\");\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }\n});\nvar apolloProvider = new VueApollo({\n  defaultClient: defaultClient\n});\nVue.config.productionTip = false;\nnew Vue({\n  provide: apolloProvider.provide(),\n  router: router,\n  store: store,\n  render: function render(h) {\n    return h(App);\n  },\n  created: function created() {\n    // execute getCurrentUser query\n    this.$store.dispatch(\"getCurrentUser\");\n  }\n}).$mount(\"#app\");",{"version":3,"sources":["src/main.js"],"names":["Vue","App","router","store","ApolloClient","VueApollo","FormAlert","component","use","defaultClient","uri","fetchOptions","credentials","request","localStorage","token","setItem","operation","setContext","headers","authorization","getItem","onError","graphQLErrors","networkError","console","log","err","dir","name","commit","dispatch","apolloProvider","config","productionTip","provide","render","h","created","$store","$mount"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAO,mBAAP;AACA,OAAOC,GAAP,MAAgB,WAAhB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AAEA,OAAOC,YAAP,MAAyB,cAAzB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,OAAOC,SAAP,MAAsB,+BAAtB,C,CAEA;;AACAN,IAAIO,SAAJ,CAAc,YAAd,EAA4BD,SAA5B;AAEAN,IAAIQ,GAAJ,CAAQH,SAAR,E,CAEA;;AACA,OAAO,IAAMI,gBAAgB,IAAIL,YAAJ,CAAiB;AAC5CM,OAAK,4CADuC;AAE5C;AACAC,gBAAc;AACZC,iBAAa;AADD,GAH8B;AAM5CC,WAAS,4BAAa;AACpB;AACA,QAAI,CAACC,aAAaC,KAAlB,EAAyB;AACvBD,mBAAaE,OAAb,CAAqB,OAArB,EAA8B,EAA9B;AACD,KAJmB,CAMpB;;;AACAC,cAAUC,UAAV,CAAqB;AACnBC,eAAS;AACPC,uBAAeN,aAAaO,OAAb,CAAqB,OAArB;AADR;AADU,KAArB;AAKD,GAlB2C;AAmB5CC,WAAS,uBAAqC;AAAA,QAAlCC,aAAkC,QAAlCA,aAAkC;AAAA,QAAnBC,YAAmB,QAAnBA,YAAmB;;AAC5C,QAAIA,YAAJ,EAAkB;AAChBC,cAAQC,GAAR,CAAY,gBAAZ,EAA8BF,YAA9B;AACD;;AAED,QAAID,aAAJ,EAAmB;AAAA;AAAA;AAAA;;AAAA;AACjB,6BAAgBA,aAAhB,8HAA+B;AAAA,cAAtBI,GAAsB;AAC7BF,kBAAQG,GAAR,CAAYD,GAAZ;;AACA,cAAIA,IAAIE,IAAJ,KAAa,qBAAjB,EAAwC;AACtC;AACA1B,kBAAM2B,MAAN,CAAa,cAAb,EAA6BH,GAA7B,EAFsC,CAGtC;;AACAxB,kBAAM4B,QAAN,CAAe,aAAf;AACD;AACF;AATgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUlB;AACF;AAnC2C,CAAjB,CAAtB;AAsCP,IAAMC,iBAAiB,IAAI3B,SAAJ,CAAc;AAAEI;AAAF,CAAd,CAAvB;AAEAT,IAAIiC,MAAJ,CAAWC,aAAX,GAA2B,KAA3B;AAEA,IAAIlC,GAAJ,CAAQ;AACNmC,WAASH,eAAeG,OAAf,EADH;AAENjC,gBAFM;AAGNC,cAHM;AAINiC,UAAQ;AAAA,WAAKC,EAAEpC,GAAF,CAAL;AAAA,GAJF;AAKNqC,SALM,qBAKI;AACR;AACA,SAAKC,MAAL,CAAYR,QAAZ,CAAqB,gBAArB;AACD;AARK,CAAR,EASGS,MATH,CASU,MATV","sourceRoot":"/home/devcass/Courses/udemy-full-stack-vue-gql-cg/code/16 Deployment with Now/082 Deploying-Backend-Frontend-with-Now/client","sourcesContent":["import \"@babel/polyfill\";\nimport Vue from \"vue\";\nimport \"./plugins/vuetify\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport store from \"./store\";\n\nimport ApolloClient from \"apollo-boost\";\nimport VueApollo from \"vue-apollo\";\n\nimport FormAlert from \"./components/Shared/FormAlert\";\n\n// Register Global Component\nVue.component(\"form-alert\", FormAlert);\n\nVue.use(VueApollo);\n\n// Setup ApolloClient\nexport const defaultClient = new ApolloClient({\n  uri: \"<insert-deployed-backend-url-here>/graphql\",\n  // include auth token with requests made to backend\n  fetchOptions: {\n    credentials: \"include\"\n  },\n  request: operation => {\n    // if no token with key of 'token' in localStorage, add it\n    if (!localStorage.token) {\n      localStorage.setItem(\"token\", \"\");\n    }\n\n    // operation adds the token to an authorization header, which is sent to backend\n    operation.setContext({\n      headers: {\n        authorization: localStorage.getItem(\"token\")\n      }\n    });\n  },\n  onError: ({ graphQLErrors, networkError }) => {\n    if (networkError) {\n      console.log(\"[networkError]\", networkError);\n    }\n\n    if (graphQLErrors) {\n      for (let err of graphQLErrors) {\n        console.dir(err);\n        if (err.name === \"AuthenticationError\") {\n          // set auth error in state (to show in snackbar)\n          store.commit(\"setAuthError\", err);\n          // signout user (to clear token)\n          store.dispatch(\"signoutUser\");\n        }\n      }\n    }\n  }\n});\n\nconst apolloProvider = new VueApollo({ defaultClient });\n\nVue.config.productionTip = false;\n\nnew Vue({\n  provide: apolloProvider.provide(),\n  router,\n  store,\n  render: h => h(App),\n  created() {\n    // execute getCurrentUser query\n    this.$store.dispatch(\"getCurrentUser\");\n  }\n}).$mount(\"#app\");\n"]}]}